
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">

<link rel="stylesheet" href="css/style.css"
	type="text/css">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<style type="text/css">
.banner-background {
	clip-path: polygon(43% 0, 70% 0, 100% 0, 100% 93%, 61% 100%, 31% 94%, 0 100%, 0 0);
}
</style>


<title>Register here</title>
</head>
<body>

					<!-- Nav bar -->
	
					<nav class="navbar navbar-expand-lg navbar-dark primary-background">
						<a class="navbar-brand" href="index.html"> <span class="fa fa-asterisk"></span>Navbar</a>
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						  <span class="navbar-toggler-icon"></span>
						</button>
					  
						<div class="collapse navbar-collapse" id="navbarSupportedContent">
						  <ul class="navbar-nav mr-auto">
							<li class="nav-item active">
							  <a class="nav-link" href="#"> <span class="	fa fa-laptop"> </span> Learn Coding <span class="sr-only">(current)</span></a>
							</li>
							
							<li class="nav-item dropdown">
							  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							  <span class="fa fa-navicon "></span>  Categories
							  </a>
							  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
								<a class="dropdown-item" href="#">Programming language</a>
								<a class="dropdown-item" href="#">Project Implementation</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" href="#">Data Structures</a>
							  </div>
							</li>
							
							<li class="nav-item">
							  <a class="nav-link" href="#"> <span class="	fa fa-address-book"></span> Contact</a>
							</li>
							
							<li class="nav-item">
							  <a class="nav-link" href="login.html"> <span class="	fa fa-user-circle-o "></span> Login</a>
							</li>
							
							  <li class="nav-item">
							  <a class="nav-link" href="register.html"> <span class="	fa fa-user-plus "></span> Signup</a>
							</li>
							
						  </ul>
						  <form class="form-inline my-2 my-lg-0">
							<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
							<button class="btn btn-outline-light my-2 my-sm-0" type="submit">Search</button>
						  </form>
						</div>
					  </nav>


		<!-- end of nav bar -->

	<main class="primary-background banner-background" style="padding-bottom: 70px">

		<div class="container">

			<div class="col-md-6 offset-md-3">

				<div class="card">
					<div class="card-header primary-background text-center text-white ">

						<span class="fa fa-3x fa-user-circle">
						</span> <br>
						<p>Register here</p>

					</div>

					<div class="card-body">

					<form id="reg-form" action="RegisterServlet" method="post">
						
						<div class="form-group">
								<label for="user_name"> User Name</label> <input type="text"
									class="form-control"
									name="username"
									id="username"
									aria-describedby="emailHelp"
									placeholder="Enter Your name">
							</div>
						
						
						
							<div class="form-group">
								<label for="email">Email address</label> <input type="email"
									class="form-control"
									name="email"
									id="emailId"
									aria-describedby="emailHelp"
									placeholder="Enter email"> 
							</div>
							
							
							
							<div class="form-group">
								<label for="phoneno"> Phone No</label> <input type="text"
									class="form-control"
									name="phoneno"
									id="phoneno"
									aria-describedby="emailHelp"
									placeholder="Enter your Phone Number">
							</div>
							
							
							<div class="form-group">
								<label for="gender"> Select Gender </label> <br>
								<input type="radio" id="gender" name="gender" value="Male"> Male
								<input type="radio" id="gender1" name="gender" value="Female"> Female
							</div>
							
							
							
							<div class="form-group">
								<label for="exampleInputPassword1">Password</label>
								<input type="password"
									class="form-control"
									name="password"
									id="exampleInputPassword1"
									placeholder=" Enter your Password">
							</div>
							
							<div class="form-group">
								<textarea name="about" class="form-control" rows="5"  placeholder="Tell me something about yourself"></textarea>
							
							</div>
							
							
							
							<div class="form-check">
								<input type="checkbox"
									name="check"
									class="form-check-input"
									id="checked"> <label
									class="form-check-label"
									for="exampleCheck1">Agree Terms and condition</label>
							</div>
							<br>
							
							<div id="loader" class="container text-center" style="display: none;">
							
								<span class="fa fa-refresh fa-spin fa-4x"></span>
								<h4>Please wait...</h4>
							
							</div>
							
							<button type="submit" class="btn btn-primary" id="register-btn" > Register</button>
						</form>


					</div>


				</div>



			</div>


		</div>



	</main>





	<!-- JavaScript -->

	<script
		src="https://code.jquery.com/jquery-3.6.1.min.js"
		integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>

	<script type="text/javascript"
		src="JS/myjavascript.js"></script>
		
		<!-- Sweet alert CDN  -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
		
		
	<script type="text/javascript">
		
		$(document).ready(function() {
			
			console.log("loaded....")
			
			
			$('#reg-form').on('submit', function (event) {
				
				event.preventDefault();
				
				let form = new FormData(this);
				
				$("#register-btn").hide();
				$("#loader").show();
				
				
				// send this form to register servlet
				
			$.ajax({
				
			
				url: "RegisterServlet",
				type: 'POST',
				data: form,
				
				success: function(data, textStatus, jqXHR) {
					console.log(data)
					
					$('#register-btn').show();
					$('#loader').hide();
					
					if(data.trim() === 'Done')
					{	
					// Using sweet alert after registration
					
					swal("Registered Successfully....We are going to redirect to login page")
					.then((value) => {
						window.location = "login-page.jsp"
					});
					
					}
					else{
						
						swal(data);
						
					}
					
				},
				
				error: function (jqXHR, textStatus, errorThrown ) {
					
					$('#register-btn').show();
					$('#loader').hide();

					
					swal("Something went Wrong....Please try again");
					
					
				}, 
				
				processData: false,
				contentType: false
				
			});	
				
				
			});
			
		});
		
		
		</script>

</body>
</html>